(this["webpackJsonpvisitor-log-system"]=this["webpackJsonpvisitor-log-system"]||[]).push([[0],{108:function(e,t){},109:function(e,t){},110:function(e,t){},118:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(1),r=n.n(a),s=n(42),i=n.n(s),o=(n(76),n(17)),l=n(8),u=n(7),d=n(122),j=n(64),b=n(18),m=n(44),h=n(11),p=n.n(h),O=n(24),_=n(26),g=n(32),f=function(){var e=Object(O.a)(p.a.mark((function e(t){var n,c,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.userId,c=t.title,a=t.selectedPictures,console.log(c),console.log(a),r=a,_.a.post("/album/add/".concat(n),{title:c,images:r}).then((function(e){e&&e.data&&console.log(e.data)})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(O.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,console.log(n),_.a.get("/album/all/".concat(n)).then((function(e){e&&e.data&&(console.log(e.data),b.b.dispatch(Object(g.a)(e.data)))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(O.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,console.log(n),_.a.get("/album/".concat(n,"/content")).then((function(e){e&&e.data&&(console.log(e.data),b.b.dispatch(Object(g.b)(e.data)))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=n(41),y=n(5),N=n(120),S=n(31),w=n(25),C=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.a.post("/user/signin",t).then((function(e){e&&e.data&&b.b.dispatch(Object(S.a)(e.data))})).catch((function(e){console.log(e),b.b.dispatch(Object(w.a)({isErrors:!0,errorMessage:e.name})),b.b.dispatch(Object(w.b)({isErrors:!0,errorMessage:e.name}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=n(40),M=n(67),I=function(e){var t=e.message,n=e.status,r=e.clearError,s="";return"success"===n?s="snackbar_success":"info"===n?s="snackbar_info":"warning"===n?s="snackbar_warning":"error"===n&&(s="snackbar_error"),Object(a.useEffect)((function(){var e=setTimeout((function(){r()}),5e3);return function(){clearTimeout(e)}}),[]),Object(c.jsxs)("div",{className:"snackbar__cont "+s,children:["success"===n&&Object(c.jsx)(A.a,{className:"info_icon"}),"info"===n&&Object(c.jsx)(A.c,{className:"info_icon"}),"warning"===n&&Object(c.jsx)(A.d,{className:"info_icon"}),"error"===n&&Object(c.jsx)(M.a,{className:"info_icon"}),Object(c.jsx)("p",{className:"info_text",children:t}),Object(c.jsx)(A.b,{className:"close_icon",onClick:r})]})},k=n.p+"static/media/signin1.5bb1a9c4.png",R=n.p+"static/media/signin2.a222a6be.png",L=function(e){var t=new N.b({delay:.3}),n=Object(u.b)(),r=Object(a.useState)(!1),s=Object(y.a)(r,2),i=(s[0],s[1],Object(a.useState)({isError:!1,errorMessage:""})),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)({email:"",password:""}),b=Object(y.a)(j,2),m=b[0],h=m.email,p=m.password,O=b[1];Object(a.useEffect)((function(){t.from(".signup__cont__left",{y:15,opacity:0,ease:N.a.easeIn,delay:.2},"Start").from(".signupImg--1",{y:15,opacity:0,ease:N.a.easeIn,delay:0}).from(".signupImg--2",{y:15,opacity:0,ease:N.a.easeIn,delay:0})}),[]);return Object(c.jsxs)("div",{className:"signup__cont",children:[l.isError&&Object(c.jsx)(I,{status:"error",message:l.errorMessage,clearError:function(){d({isError:!1,errorMessage:""})}}),Object(c.jsxs)("div",{className:"signup__cont__left",children:[Object(c.jsx)("h1",{className:"signup__cont__left__title",children:"Sign In"}),Object(c.jsx)("div",{className:"signup__cont__left__inputCont",children:Object(c.jsx)("input",{type:"email",name:"email",onChange:function(e){return O(Object(E.a)(Object(E.a)({},{password:p}),{},{email:e.target.value}))},id:"email",className:"signup__cont__left__inputCont__input",required:!0,placeholder:"Email"})}),Object(c.jsx)("div",{className:"signup__cont__left__inputCont",children:Object(c.jsx)("input",{type:"password",name:"password",onChange:function(e){return O(Object(E.a)(Object(E.a)({},{email:h}),{},{password:e.target.value}))},id:"password",className:"signup__cont__left__inputCont__input",required:!0,placeholder:"Password"})}),Object(c.jsxs)("button",{onClick:function(){var t=!0;(n(Object(w.a)({isErrors:!1,errorMessage:""})),n(Object(w.b)({isErrors:!1,errorMessage:""})),""===h&&(n(Object(w.a)({isErrors:!0,errorMessage:"Required!"})),t=!1),""===p&&(n(Object(w.b)({isErrors:!0,errorMessage:"Required!"})),t=!1),t)&&C({email:h,password:p},e)},className:"signup__cont__left__submitBtn",children:["Continue ",Object(c.jsx)("span",{children:"\u27a4"})]})]}),Object(c.jsxs)("div",{className:"signup__cont__right",children:[Object(c.jsx)("img",{src:k,alt:"",className:"signup__cont__right__img signupImg--1"}),Object(c.jsx)("img",{src:R,alt:"",className:"signup__cont__right__img signupImg--2"})]})]})},P=function(){var e=new N.b({delay:.3}),t=(Object(u.b)(),Object(a.useState)("")),n=Object(y.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),l=Object(y.a)(i,2),d=l[0],j=l[1],b=Object(a.useState)(""),m=Object(y.a)(b,2),h=m[0],p=m[1],O=Object(a.useState)(""),_=Object(y.a)(O,2),g=_[0],f=_[1],x=Object(a.useState)(""),v=Object(y.a)(x,2),E=v[0],S=v[1],w=Object(a.useState)("Farmer"),C=Object(y.a)(w,2),A=(C[0],C[1]),M=Object(a.useState)(""),L=Object(y.a)(M,2),P=(L[0],L[1],Object(a.useState)(!1)),D=Object(y.a)(P,2),T=(D[0],D[1]),U=Object(a.useState)({isError:!1,errorMessage:""}),q=Object(y.a)(U,2),Q=q[0],V=q[1];Object(a.useEffect)((function(){e.from(".signup__cont__left",{y:15,opacity:0,ease:N.a.easeIn,delay:.2},"Start").from(".signupImg--1",{y:15,opacity:0,ease:N.a.easeIn,delay:0}).from(".signupImg--2",{y:15,opacity:0,ease:N.a.easeIn,delay:0})}),[]);return Object(c.jsxs)("div",{className:"signup__cont",children:[Object(c.jsx)("img",{id:"imgTest",alt:""}),Q.isError&&Object(c.jsx)(I,{status:"error",message:Q.errorMessage,clearError:function(){V({isError:!1,errorMessage:""})}}),Object(c.jsxs)("div",{className:"signup__cont__left",children:[Object(c.jsx)("h1",{className:"signup__cont__left__title",children:"Sign Up"}),Object(c.jsx)("div",{className:"signup__cont__left__inputCont",children:Object(c.jsx)("input",{type:"email",onChange:function(e){return s(e.target.value)},name:"email",id:"email",className:"signup__cont__left__inputCont__input",required:!0,placeholder:"Email"})}),Object(c.jsx)("div",{className:"signup__cont__left__inputCont",children:Object(c.jsx)("input",{type:"text",onChange:function(e){return j(e.target.value)},name:"firstName",id:"firstName",className:"signup__cont__left__inputCont__input",required:!0,placeholder:"First Name"})}),Object(c.jsx)("div",{className:"signup__cont__left__inputCont",children:Object(c.jsx)("input",{type:"text",onChange:function(e){return p(e.target.value)},name:"lastName",id:"lastName",className:"signup__cont__left__inputCont__input",required:!0,placeholder:"Last Name"})}),Object(c.jsx)("div",{className:"signup__cont__left__inputCont",children:Object(c.jsx)("input",{type:"password",onChange:function(e){return f(e.target.value)},name:"password",id:"password",className:"signup__cont__left__inputCont__input",required:!0,placeholder:"Password"})}),Object(c.jsx)("div",{className:"signup__cont__left__inputCont",children:Object(c.jsx)("input",{type:"password",onChange:function(e){return S(e.target.value)},name:"confirmPass",id:"confirmPass",className:"signup__cont__left__inputCont__input",required:!0,placeholder:"Confirm Password"})}),Object(c.jsxs)("div",{className:"signup__cont__left__otherCont",children:[Object(c.jsx)("h1",{className:"signup__cont__left__otherCont__title",children:"Role"}),Object(c.jsxs)("select",{onChange:function(e){return A(e.target.value)},className:"signup__cont__left__otherCont__dropDown",children:[Object(c.jsx)("option",{value:"Farmer",children:"Farmer"}),Object(c.jsx)("option",{value:"Manufacturer",children:"Manufacturer"}),Object(c.jsx)("option",{value:"Wholesaler",children:"Wholesaler"}),Object(c.jsx)("option",{value:"Distributer",children:"Distributer"}),Object(c.jsx)("option",{value:"Retailer",children:"Retailer"})]})]}),Object(c.jsx)("div",{className:"signup__cont__left__otherCont",children:Object(c.jsx)("h1",{className:"signup__cont__left__otherCont__title",children:"Upload your Profile picture here"})}),Object(c.jsxs)("button",{onClick:function(){g!==E&&V({isError:!0,errorMessage:"Passwords do not match."}),r.length<3&&V({isError:!0,errorMessage:"Please enter a valid email."}),(d+h).length<3&&V({isError:!0,errorMessage:"Please enter a valid name."}),T(!0)},className:"signup__cont__left__submitBtn",children:["Continue ",Object(c.jsx)("span",{children:"\u27a4"})]}),Object(c.jsxs)("p",{className:"signup__cont__left__msg",children:["Already have an account?"," ",Object(c.jsx)(o.b,{to:"/signin",className:"signup__cont__left__msg__link",children:"Login"})]})]}),Object(c.jsxs)("div",{className:"signup__cont__right",children:[Object(c.jsx)("img",{src:k,alt:"",className:"signup__cont__right__img signupImg--1"}),Object(c.jsx)("img",{src:R,alt:"",className:"signup__cont__right__img signupImg--2"})]})]})};n(28);var D=function(){var e=r.a.useState(null),t=Object(y.a)(e,2),n=t[0],s=t[1],i=(Object(u.c)((function(e){var t;return null===e||void 0===e||null===(t=e.image)||void 0===t?void 0:t.images})),Object(u.c)((function(e){var t,n;return null===e||void 0===e||null===(t=e.auth)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id})));return Object(u.b)(),Object(a.useEffect)((function(){fetch("http://localhost:8080/picture/getAll/".concat(i)).then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{id:"gallery",style:{marginTop:"5px"},children:n&&n.map((function(e,t){var n="#lightbox-".concat(t);return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:e.link}),Object(c.jsx)("a",{href:n,children:t+1})]},t)}))}),n&&n.map((function(e,t){var n="lightbox-".concat(t);return Object(c.jsx)("div",{className:"lightbox",id:n,children:Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("img",{src:e.link}),Object(c.jsx)("a",{className:"close",href:"#gallery"})]})})}))]})},T=n(69),U=n(121),q=function(e){var t=e.showModal,n=e.setModal,s=(e.setLoading,e.setError,Object(u.c)((function(e){var t,n;return null===e||void 0===e||null===(t=e.auth)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id}))),i=r.a.useState(null),o=Object(y.a)(i,2),l=o[0],j=o[1],b=Object(a.useState)(""),m=Object(y.a)(b,2),h=m[0],p=m[1],O=Object(a.useState)([]),_=Object(y.a)(O,2),g=_[0],x=_[1],v=Object(a.useState)(!1),E=Object(y.a)(v,2);E[0],E[1];Object(a.useEffect)((function(){fetch("http://localhost:8080/picture/getAll/".concat(s)).then((function(e){return e.json()})).then((function(e){return j(e)}))}),[]);return console.log(g),Object(c.jsx)(d.a,{children:t?Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)(U.a.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{delay:.3}},onClick:function(){return n(!1)},className:"modal-backdrop"}),Object(c.jsx)(U.a.div,{initial:{scale:0},animate:{scale:1,transition:{duration:.3}},exit:{scale:0,transition:{delay:.3}},className:"modal-content-wrapper-album",children:Object(c.jsxs)(U.a.div,{className:"modal-content",initial:{x:60,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3,duration:.3}},exit:{x:60,opacity:0,transition:{duration:.3}},children:[Object(c.jsxs)("form",{onSubmit:function(){console.log("handleSubmit"),f({userId:s,title:h,selectedPictures:g})},className:"modal__cont",children:[Object(c.jsx)("h1",{className:"modal__cont__title",children:"Album Details"}),Object(c.jsx)("div",{className:"modal__cont__inputCont",children:Object(c.jsx)("input",{type:"text",name:"batchId",onChange:function(e){return p(e.target.value)},id:"batchId",className:"modal__cont__inputCont__input",required:!0,placeholder:"Album Title"})}),Object(c.jsx)("input",{type:"submit",value:"Submit",className:"modal__cont__submitBtn"})]}),Object(c.jsx)("div",{id:"gallery",style:{marginTop:"5px"},children:l&&l.map((function(e,t){var n="#lightbox-".concat(t);return Object(c.jsxs)("div",{onClick:function(){return function(e){console.log(e);var t=Object(T.a)(g);t.push(e),x(t)}(e)},children:[Object(c.jsx)("img",{src:e.link}),Object(c.jsx)("a",{href:n,children:t+1}),Object(c.jsx)("input",{className:"category-input",type:"checkbox",id:"checker",name:"categories[]",value:""}),Object(c.jsx)("label",{htmlFor:"checker"}),Object(c.jsx)("input",{type:"hidden",name:"categoryFiles[]",value:""})]},t)}))})]})})]}):null})};var Q=function(e){var t=e.showAlbumDisplay,n=e.setAlbumDisplay,a=Object(u.c)((function(e){var t;return null===e||void 0===e||null===(t=e.album)||void 0===t?void 0:t.selectedAlbum}));return console.log(a),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(d.a,{children:t?Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)(U.a.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{delay:.3}},onClick:function(){return n(!1)},className:"modal-backdrop"}),Object(c.jsx)(U.a.div,{initial:{scale:0},animate:{scale:1,transition:{duration:.3}},exit:{scale:0,transition:{delay:.3}},className:"modal-content-wrapper-album",children:Object(c.jsxs)(U.a.div,{className:"modal-content",initial:{x:60,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3,duration:.3}},exit:{x:60,opacity:0,transition:{duration:.3}},children:[Object(c.jsx)("div",{id:"gallery",children:a?a.map((function(e,t){var n="#lightbox-".concat(t);return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:e.link}),Object(c.jsx)("a",{href:n,children:t+1})]},t)})):Object(c.jsx)("h1",{children:"Empty"})}),a&&a.map((function(e,t){var n="lightbox-".concat(t);return Object(c.jsx)("div",{className:"lightbox",id:n,children:Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("img",{src:e.link}),Object(c.jsx)("a",{className:"close",href:"#gallery"})]})})}))]})})]}):null})})};var V=function(){var e=Object(a.useState)(null),t=Object(y.a)(e,2),n=(t[0],t[1],Object(a.useState)(null)),r=Object(y.a)(n,2),s=(r[0],r[1]),i=Object(a.useState)(!1),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)(!1),b=Object(y.a)(j,2),m=b[0],h=b[1],p=Object(a.useState)({isError:!1,errorMessage:""}),O=Object(y.a)(p,2),_=O[0],f=O[1],x=Object(u.c)((function(e){var t;return null===e||void 0===e||null===(t=e.image)||void 0===t?void 0:t.images})),E=Object(u.c)((function(e){var t,n;return null===e||void 0===e||null===(t=e.auth)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id})),N=Object(u.c)((function(e){var t;return null===e||void 0===e||null===(t=e.album)||void 0===t?void 0:t.album})),S=(Object(u.c)((function(e){var t;return null===e||void 0===e||null===(t=e.album)||void 0===t?void 0:t.selectedAlbum})),Object(u.b)());return Object(a.useEffect)((function(){fetch("http://localhost:8080/picture/getAll/".concat(E)).then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"button",onClick:function(){return h((function(e){return!e}))},style:{cursor:"pointer",position:"absolute",right:"0px",padding:"10px",marginRight:"35px",fontSize:"20px",color:"white",backgroundColor:"red",border:"none"},children:"Add new album"}),Object(c.jsx)("div",{className:"wrapper group",children:Object(c.jsx)("section",{id:"content",children:Object(c.jsxs)("ul",{className:"grid half-width group",children:[x?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("li",{className:"zoom-on-hover",onClick:function(){return function(e){console.log(e),d((function(e){return!e})),S(Object(g.b)(e))}(x)},children:Object(c.jsx)("a",{children:Object(c.jsxs)("div",{className:"image",children:[Object(c.jsx)("img",{src:x[0].link}),Object(c.jsx)("div",{className:"caption",children:Object(c.jsx)("h2",{children:"All"})})]})})})}):Object(c.jsx)(c.Fragment,{children:"Please add images first!"}),N?N.map((function(e,t){return console.log(e),Object(c.jsx)("li",{className:"zoom-on-hover",onClick:function(){return t=e._id,console.log(t),d((function(e){return!e})),void v(t);var t},children:Object(c.jsx)("a",{children:Object(c.jsxs)("div",{className:"image",children:[e.images.length<1?Object(c.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAb1BMVEUAAAD///9bWVrm5uaqqqqgoKBPT0/z8/ORkZHg4OB1dXWzs7PU1NTr6+vv7+86OjqAfn/MzMxsbGyXl5fAwMCHh4djY2PHx8dfX1+dnZ1ISEguLi66urpVVVV3d3evr69BQUElJSUvLy8MDAwXFxes5b5hAAADzUlEQVR4nO3b23LaMBSFYQljsDEQGxtIiM2hzfs/Y6UtnEna5EITSbDo+i8am4LQF587U1UPk0duqNWgHrtBTW49hchNKISPQvwoxI9C/CjEj0L8KMSPQvwoxI9C/CjEj0L8KMSPQvwoxI9C/CjEj0L8KMSPQvwoxI9C/CjEj0L8KMSPQvwoxI9C/CjEj0L8KMSPQvyCCk/TUJ3CTSqoUIcr3KQo9MrMrHzJf9pLedfCuxpHotArClOPI1HoFYWpx5Eo9IrC1ONIFHpFYepxJAq9ojD1OBKFXlGYehyJQq8oTD2ORKFXFKYeR6LQKwpTjyNR6BWFqceRKPSKwtTjSBR6RWHqcSQKvaIw9TgShV5RmHociUKvKEw9jkShVxSmHkei0CsKU48jUegVhanHkSj0isLU40gUekVh6nEkCr0yM5seZj/tML1rYajCTYpCr7JgrcJNiv9bHT8K8aMQv9sLL23c8W8uzPUy7hfcWljrRxcutG7ifkMUYd3vq4VdeO2rWg39shvMcrVstua1Q1Ud1bYpm41Zafdar6YnVVTuA3ZhF3YyEYSvc7l3Xl+UOmtd5bJWb+SH2SPNQlXKSqfU+nqfvTVQ+bBZ+RV2OhGEBrjuM63nIpzr8iSO+Wlp/lyonV1ZCfJFlfa3sV6L7EkJvww8nfDCqTt39Fq3VqinSuZvvGpp13Zu6yn3nLu5Hofm7bn50Wm9DTyf8MK52xrKbo3z9UlvZbn2yqB7EY5v3NkzjZxLZ243Dfpk6AovtLvi8Xi0x516cttOZXb3NKcRu/WMMJM3NloX70L7Szjbvwt+Zg0uvHx8UB+F5qB7Vlfh82jq7IH4LmztHmz21U3Y6UQQ/jaybSG13wndafPzNjSfW8fYSePspW/j8gehvcqNQveGT8ehgM01owo8mxjCvZvmptn33wobt6LlnuZ6eXAXzFng2cQQ2vNnt2ntzvqlcCK3A5W9OLZyDtXLprBvktcDT0ZFueLX1/NM9dVeurfCLBvvaWRfdddMuUDmoScT5770qc/m68aSLvtODqy86+zut+u6wgpLVSyzxp01L325ymq7dHZ3bMdt2Gt++meLYbwe/l0rh+SszRdB773vRziRI1dN2vw56DXxXoRyYMoxu62LoN93E+EXZ0wBnmN8X3rh2+xw/vfVTVEEfvIdu/W/YsSPQvwoxI9C/CjEj0L8KMSPQvwoxI9C/CjEj0L8KMSPQvwoxI9C/CjEj0L8KMSPQvwoxI9C/CjEj0L8KMSPQvwoxI9C/CjE738QDreeQuQGVQ+TR26o/wC/TiXuOSy+6AAAAABJRU5ErkJggg=="}):Object(c.jsx)("img",{src:"https://picsum.photos/id/".concat(t,"/200/300")}),Object(c.jsx)("div",{className:"caption",children:Object(c.jsx)("h2",{children:e.title})})]})})},t)})):null]})})}),Object(c.jsx)(Q,{showAlbumDisplay:l,setAlbumDisplay:d}),Object(c.jsx)(q,{showModal:m,setModal:h,setError:f}),_.isError&&Object(c.jsx)(I,{status:"error",message:_.errorMessage,clearError:function(){f({isError:!1,errorMessage:""})}})]})},B=n.p+"static/media/Galleria2.cec2a712.svg",F=Object(l.g)((function(){var e=Object(u.c)((function(e){return e.auth.isAuthenticated})),t=Object(u.b)();return Object(c.jsxs)(U.a.div,{className:"header__cont",children:[Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)("img",{src:B,className:"header__cont__logo",style:{marginTop:"auto"}})}),e?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"header__cont__title",children:[Object(c.jsx)(o.b,{to:"/",style:{textDecoration:"none"},children:Object(c.jsx)(U.a.h1,{className:"header__cont__title__text",children:"Upload"})}),Object(c.jsx)(o.b,{to:"/pictures",style:{textDecoration:"none"},children:Object(c.jsx)(U.a.h1,{className:"header__cont__title__text",children:"Pictures"})}),Object(c.jsx)(o.b,{to:"/albums",style:{textDecoration:"none"},children:Object(c.jsx)(U.a.h1,{className:"header__cont__title__text",children:"Albums"})}),Object(c.jsx)("h1",{className:"header__cont__title__text",onClick:function(){t(Object(S.b)())},children:"Logout"})]})}):Object(c.jsxs)(U.a.div,{className:"header__cont__title",children:[Object(c.jsx)(o.b,{to:"/signin",style:{textDecoration:"none"},children:Object(c.jsx)(U.a.h1,{className:"header__cont__title__text",children:"Sign In"})}),Object(c.jsx)(o.b,{to:"/signup",style:{textDecoration:"none"},children:Object(c.jsx)(U.a.h1,{className:"header__cont__title__text",children:"Sign Up"})})]})]})})),K=n(53);function Y(){var e=Object(u.c)((function(e){return e.auth.isAuthenticated})),t=Object(u.c)((function(e){var t,n;return null===e||void 0===e||null===(t=e.auth)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id}));return r.a.useEffect((function(){Object(m.a)(t),x(t)}),[]),Object(c.jsxs)(o.a,{children:[e?Object(c.jsx)(F,{}):null,Object(c.jsx)(d.a,{exitBeforeEnter:!0,children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/",children:e?Object(c.jsx)(K.a,{}):Object(c.jsx)(l.a,{to:"/signin"})}),Object(c.jsx)(l.b,{exact:!0,path:"/signin",children:e?Object(c.jsx)(l.a,{to:"/admin"}):Object(c.jsx)(L,{})}),Object(c.jsx)(l.b,{exact:!0,path:"/signup",children:e?Object(c.jsx)(l.a,{to:"/admin"}):Object(c.jsx)(P,{})}),Object(c.jsx)(l.b,{exact:!0,path:"/pictures",children:e?Object(c.jsx)(D,{}):Object(c.jsx)(l.a,{to:"/signin"})}),Object(c.jsx)(l.b,{exact:!0,path:"/home",children:e?Object(c.jsx)(K.a,{}):Object(c.jsx)(l.a,{to:"/signin"})}),Object(c.jsx)(l.b,{exact:!0,path:"/albums",children:e?Object(c.jsx)(V,{}):Object(c.jsx)(l.a,{to:"/signin"})})]})})]})}var z=function(){return Object(c.jsx)(u.a,{store:b.b,children:Object(c.jsx)(j.PersistGate,{loading:null,persistor:b.a,children:Object(c.jsx)(Y,{})})})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(z,{})}),document.getElementById("root"))},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return _}));var c=n(10),a=n(38),r=n(65),s=n.n(r),i=n(66),o=n.n(i),l=n(54),u=n(31),d=n(25),j=n(28),b=n(32),m=Object(c.b)({auth:u.c,error:d.c,image:j.c,album:b.c}),h=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c)(Object(c.a)(a.a,o.a)),p={key:"authType",storage:s.a,whitelist:["auth"]},O=Object(l.a)(p,m),_=Object(c.d)(O,h),g=Object(l.b)(_)},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var c=n(29),a=Object(c.a)({name:"error",initialState:{userError:{isErrors:!1,errorMessage:""},passError:{isErrors:!1,errorMessage:""},emailError:{isErrors:!1,errorMessage:""}},reducers:{USERERROR:function(e,t){var n=t.payload,c=n.isErrors,a=n.errorMessage;e.userError.isErrors=c,e.userError.errorMessage=a},PASSERROR:function(e,t){var n=t.payload,c=n.isErrors,a=n.errorMessage;e.passError.isErrors=c,e.passError.errorMessage=a},EMAILERROR:function(e,t){var n=t.payload,c=n.isErrors,a=n.errorMessage;e.emailError.isErrors=c,e.emailError.errorMessage=a}}}),r=(a.actions,a.reducer),s=a.actions,i=(s.USERERROR,s.PASSERROR),o=s.EMAILERROR;t.c=r},26:function(e,t,n){"use strict";var c=n(45),a=n.n(c);t.a=a.a.create({baseURL:"http://localhost:8080/",responseType:"json",headers:{"Content-Type":"application/json"}})},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var c=n(29),a=Object(c.a)({name:"image",initialState:{images:null},reducers:{AdddImages:function(e,t){e.images=t.payload},RemoveImages:function(e){e.images=null}}}),r=(a.actions,a.reducer),s=a.actions,i=s.AdddImages,o=s.RemoveImages;t.c=r},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var c=n(29),a=Object(c.a)({name:"auth",initialState:{user:{token:null,id:null},visitors:null,employees:null,isAuthenticated:!1,isDrawerOpen:!1,loading:!1},reducers:{LOGIN:function(e,t){var n=t.payload,c=n.token,a=n.id;e.user={token:c,id:a},e.isAuthenticated=!0},LOGOUT:function(e){e.user={token:null,id:null},e.isAuthenticated=!1},OPENDRAWER:function(e){e.isDrawerOpen=!e.isDrawerOpen},ADDVISITORS:function(e,t){e.visitors=t.payload},EMPTYVISITORS:function(e){e.visitors=null},ADDEMPLOYEES:function(e,t){e.employees=t.payload},EMPTYEMPLOYEES:function(e){e.employees=null}}}),r=(a.actions,a.reducer),s=a.actions,i=s.LOGIN,o=s.LOGOUT;s.OPENDRAWER,s.ADDVISITORS,s.EMPTYVISITORS,s.ADDEMPLOYEES,s.EMPTYEMPLOYEES;t.c=r},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var c=n(29),a=Object(c.a)({name:"album",initialState:{album:null,selectedAlbum:null},reducers:{AddAlbums:function(e,t){e.album=t.payload},RemoveAlbums:function(e){e.album=null},SelectedAlbum:function(e,t){e.selectedAlbum=t.payload},DeSelectAlbum:function(e,t){e.selectedAlbum=null}}}),r=(a.actions,a.reducer),s=a.actions,i=s.AddAlbums,o=(s.RemoveAlbums,s.SelectedAlbum);s.DeSelectAlbum;t.c=r},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var c=n(11),a=n.n(c),r=n(24),s=n(26),i=n(28),o=n(18),l=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.userId,c=t.link,console.log(c),s.a.post("/picture/add/".concat(n),{link:c}).then((function(e){e&&e.data&&console.log(e.data)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://localhost:8080/picture/getAll/".concat(t)).then((function(e){return e.json()})).then((function(e){return o.b.dispatch(Object(i.a)(e))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},53:function(e,t,n){"use strict";(function(e){var c=n(11),a=n.n(c),r=n(24),s=n(5),i=n(2),o=n(1),l=n.n(o),u=n(45),d=n.n(u),j=(n(105),n(68)),b=n.n(j),m=n(44),h=n(7),p=n(113),O=n(114),_=n(115),g=n(116),f=n(117),x={"menu.backgroundColor":"white","common.backgroundColor":"#151515","downloadButton.backgroundColor":"white","downloadButton.borderColor":"white","downloadButton.color":"black","menu.normalIcon.path":g,"menu.activeIcon.path":O,"menu.disabledIcon.path":p,"menu.hoverIcon.path":_};t.a=function(){var t=Object(o.useState)(""),n=Object(s.a)(t,2),c=n[0],u=n[1],j=l.a.createRef(),p=Object(h.c)((function(e){var t,n;return null===e||void 0===e||null===(t=e.auth)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id})),O=function(){var t=Object(r.a)(a.a.mark((function t(){var n,c,r,s,i,o,l,b,h,O,_;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=j.current.imageEditorInst,c=n.toDataURL(),t.next=4,fetch("http://localhost:8080/s3Url").then((function(e){return e.json()}));case 4:return r=t.sent,s=r.url,c&&(i=c.split(";")[0],o=c.split(";")[0].split("/")[1],f(c,"image.".concat(o),i)),t.prev=7,b=e.from(c.replace(/^data:image\/\w+;base64,/,""),"base64"),t.next=11,d.a.put(s,b,{headers:{"Content-Type":"image/*","Content-Encoding":"base64"}});case 11:return(h=t.sent)&&(O=s.split("?")[0],_={link:O,userId:p},Object(m.b)(_)),console.log(h),u(null===h||void 0===h||null===(l=h.config)||void 0===l?void 0:l.data),t.abrupt("return",h);case 18:throw t.prev=18,t.t0=t.catch(7),console.log(t.t0.message),new Error(t.t0);case 22:case"end":return t.stop()}}),t,null,[[7,18]])})));return function(){return t.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"home-page",children:[Object(i.jsxs)("div",{className:"center",children:[Object(i.jsx)("h1",{style:{textAlign:"center",paddingTop:"20px",fontSize:"30px",fontWeight:"bold"},children:"Image Editor"}),Object(i.jsx)("button",{className:"button",onClick:O,style:{padding:"10px",fontSize:"20px",color:"white",backgroundColor:"red",border:"none"},children:"Upload Image"})]}),Object(i.jsx)(b.a,{includeUI:{loadImage:{path:c,name:"image"},theme:x,initMenu:"filter",menuBarPosition:"top",menu:["crop","flip","rotate","draw","shape","text","filter"],uiSize:{height:"calc(100vh - 80px)",outerWidth:"80vw"}},cssMaxHeight:window.innerHeight,cssMaxWidth:window.innerWidth,selectionStyle:{cornerSize:20,rotatingPointOffset:70},usageStatistics:!0,ref:j})]})}}).call(this,n(63).Buffer)},76:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.8c9b77f6.chunk.js.map